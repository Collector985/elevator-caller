[env:adafruit_feather_rp2040]
platform = https://github.com/maxgerhardt/platform-raspberrypi.git
board = adafruit_feather_rp2040
framework = arduino

; Upload settings
upload_protocol = picotool
upload_port = /dev/ttyACM0

; Monitor settings
monitor_speed = 115200
monitor_port = /dev/ttyACM0

; Build flags
build_flags =
    -D CPU_SPEED_MHZ=48
    -D LORA_FREQUENCY=915.0
    -D SPREADING_FACTOR=9
    -D TX_POWER=20
    -D BEACON_INTERVAL_MS=2000
    -D LISTEN_WINDOW_MS=100
    -D ACK_TIMEOUT_MS=200
    -D PROXIMITY_THRESHOLD_FLOORS=3
    -Wall
    -Wextra

; Library dependencies
lib_deps =
    adafruit/RadioHead@^1.120
    bblanchon/ArduinoJson@^6.21.3
    arduino-libraries/FlashStorage_RP2040@^1.0.0

; Board configuration
board_build.core = earlephilhower
board_build.f_cpu = 48000000L

[env:tbeam-supreme-simulator]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; Upload settings
upload_speed = 921600
upload_port = /dev/ttyACM0

; Monitor settings
monitor_speed = 115200
monitor_port = /dev/ttyACM0

; Build flags
build_flags =
    -D ARDUINO_USB_CDC_ON_BOOT=1
    -D LORA_FREQUENCY=915.0
    -D SPREADING_FACTOR=9
    -D TX_POWER=20
    -D TOTAL_FLOORS=40
    -D MIN_CALL_INTERVAL=5000
    -D MAX_CALL_INTERVAL=20000
    -D SIMULATOR_MODE=1
    -Wall

; Library dependencies
lib_deps =
    jgromes/RadioLib@^6.4.0
    bblanchon/ArduinoJson@^6.21.3

; Use correct source directory for simulator
build_src_filter = +<simulator.cpp>
